# BugBuster Technical Manual

## Product Overview
BugBuster is a sophisticated tool designed to pinpoint lexical, syntactic, and semantic errors within Java-like programming languages. This manual provides a detailed exploration of BugBuster's architecture and functionality.

## Project Structure
The project is organized into several key components, detailed below:

```sh
ANTLR4-BugBuster/
├── Language.g4
├── generated/
│   ├── LanguageLexer.py
│   ├── LanguageParser.py
│   ├── LanguageVisitor.py
│   ├── ...
├── main.py
├── requirements.txt
└── semantic_analyzer.py
```


## Architecture and Components

### Overview
Key components:
- **Lexer and Parser:** Generated by ANTLR4 from the `Language.g4` grammar file, defining the language's lexical and syntactic rules.
- **Semantic Analyzer:** Implemented in `semantic_analyzer.py`, performing semantic analysis using a visitor pattern to validate variable declarations, type assignments, and operations.
- **Graphical User Interface (GUI):** A PyQt5-based GUI that provides an interactive environment for loading code, displaying errors, and making corrections.

## Main Components

### main.py
This file serves as the application's entry point, initializing the GUI and managing core functionality. Key components include:
- **CustomErrorMessage:** Enhances error message clarity.
- **CodeAnalyzerGUI:** The main GUI, featuring a code editor, output console, and analysis tools.
  - `initUI()`: Initializes the user interface (code editor, console, toolbar).
  - `run_analysis()`: Performs lexical, syntactic, and semantic analysis, displaying results.
  - `handle_output_click()`: Highlights the corresponding code line when an error is clicked in the output console.
  - `highlight_line()`: Highlights a specified code line in the editor.
  - `show_error_message()`: Displays error messages via QMessageBox.
  - `clean_text()`: Clears the code input and output console.
  - `show_info()`: Displays BugBuster information using QMessageBox.
  - `confirm_exit()`: Confirms exit requests from the user.

### semantic_analyzer.py
This module implements semantic analysis using the visitor pattern. It validates variable declarations, type assignments, and operations. Key functions include:
- `visitDeclaration()`: Checks variable declarations for correctness and type compatibility.
- `is_type_compatible(var_type, expr_type)`: Checks type compatibility between variables and assigned expressions.
- `visitAssignment()`: Verifies variable declarations and ensures type-compatible assignments.
- `visitMethod_declaration()`: Validates method declarations and parameter/variable usage.
- `visitMethod_call()`: Validates method calls (predefined and user-defined).
- `visitClass_declaration()`: Manages class declarations, preventing naming conflicts.
- `get_expression_type(expr_ctx)`: Determines the type of an expression (boolean, integer, float, string, or declared variable).

### generated/
This directory contains the automatically generated lexer, parser, and visitor files, which are essential for the code analysis process. These files are produced by ANTLR4 based on the `Language.g4` grammar file.

## Identifying Errors
BugBuster employs a multi-stage process for robust error detection, providing detailed feedback to the user:

1. **Lexical Analysis (Tokenization):** The source code is initially scanned and broken down into a stream of individual tokens, representing the fundamental building blocks of the language (keywords, identifiers, operators, literals).
2. **Syntactic Analysis (Parsing):** These tokens are then parsed to build an Abstract Syntax Tree (AST), a hierarchical representation that verifies if the code adheres to the grammatical rules of the programming language. This stage checks the structure and arrangement of the code elements.
3. **Semantic Analysis:** A visitor pattern performs a deeper analysis of the AST, examining the meaning and context of the code. This stage verifies semantic correctness, such as type compatibility between variables and expressions, correct variable declarations, and the valid use of methods and functions.
4. **Error Reporting:** Any detected errors – lexical, syntactic, or semantic – are clearly highlighted within the user-friendly graphical interface. Precise error messages and contextual information are displayed, aiding rapid identification and correction.

