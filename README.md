![Logo Università](https://www.unibg.it/themes/custom/unibg/logo.svg) 
# **ANTLR-PyQtCodeChecker**

This project was developed for the **Formal Languages and Compilers (LFC)** course, aiming to create a **code analyzer** capable of detecting lexical, syntactic, and semantic errors in a simple programming language defined by a custom grammar. The analyzer uses **ANTLR** to generate the lexer and parser, while the user interface (GUI) is built using **PyQt5**.

The application allows users to:
- Perform tokenization of source code through a lexer generated by ANTLR.
- Analyze the syntactic structure of the code with a parser and create a syntax tree.
- Conduct semantic checks on the code using a visitor pattern to verify the validity of declarations and operations.
- Provide an interactive graphical interface to load code, view errors, and easily correct them.



---

## **Toolchain and Dependencies**

The project uses a series of tools to implement and run the code analyzer correctly:

- **antlr4-python3-runtime**: To use the lexer and parser generated by ANTLR in Python.
- **Python 3.x**: To run the application and handle the program logic.
- **PyQt5**: To build the graphical user interface (GUI).
- **Git**: For version control and repository management.



## Installation Steps

1. **Install Python 3**:
   Download and install Python 3 from the official [site](https://www.python.org/downloads/).

2. **Install PyQt5**:
   ```bash
   pip install PyQt5
   ```

3. **Install ANTLR Runtime for Python**:
   This package allows the use of the lexer and parser generated by ANTLR in Python.
   ```bash
   pip install antlr4-python3-runtime==4.9.2
   ```

4. **Download ANTLR JAR**:
   Download `antlr-4.9.2-complete.jar` from [here](https://www.npackd.org/p/antlr/4.9.2) and save it in an accessible directory, e.g., `C:\Program Files\antlr`.

5. **Generate Lexer and Parser**:
   - Create the `Language.g4` grammar file in the project's main folder and add the language rules.
   - From the terminal, run the following command to generate the Python files for lexer, parser, and visitor:
     ```bash
     java -jar "C:\Program Files\antlr\antlr-4.9.2-complete.jar" -Dlanguage=Python3 -visitor Language.g4 -o generated
     ```
6. **Verify the Structure of Generated Files**:
   You should have a `generated` folder with the following files:
   - `LanguageLexer.py`: The generated lexer for recognizing tokens.
   - `LanguageParser.py`: The generated parser for analyzing the syntactic structure.
   - `LanguageVisitor.py`: The generated visitor for performing semantic analysis.


## Project Components

### 1. `Language.g4`
   - Defines the grammar of the language being analyzed.
   - Includes rules for recognizing tokens (`int`, `float`, `=`) and for statements, expressions, etc.
   - The `COMMENT` rule is used to ignore `//` style comments.

### 2. `main.py`
   - The main file that launches the graphical interface.
   - Contains the `CodeAnalyzerGUI` class that builds the interface with PyQt5, including an area for code input, an output console, and a "Run" button to execute the analysis.
   - The `run_analysis` function collects the user's code, passes it to the lexer, parser, and visitor to perform all checks.

### 3. `Driver.py`
   - A test file for the lexer and parser generated by ANTLR.
   - Used to verify that the lexer and parser work correctly even without the graphical interface.
   - It can be used by running the command `python Driver.py input.txt`, where `input.txt` is a sample file.

### 4. `semantic_analyzer.py`
   - Contains the `SemanticAnalyzer` class, which extends the visitor generated by ANTLR (`LanguageVisitor`).
   - Implements the `visitDeclaration` and `visitExpression` methods to detect semantic errors:
     - **visitDeclaration**: Ensures each variable is declared only once.
     - **visitExpression**: Ensures each variable is declared before being used.
   - The analysis results are reported to the GUI through `semantic_analyzer.errors`.


## How the Project Works

1. **Tokenization**:
   - The generated lexer (`LanguageLexer.py`) converts the code into a series of tokens, such as `int`, `float`, `=`, `;`, etc.
   - It ignores comments and whitespace.

2. **Parsing**:
   - The parser (`LanguageParser.py`) organizes tokens into a hierarchical structure (a parse tree) based on grammatical rules.
   - It checks whether the code conforms to the syntactic rules defined in the grammar, such as the presence of `;` at the end of statements.

3. **Semantic Analysis**:
   - The visitor (`LanguageVisitor.py`) traverses the syntax tree produced by the parser.
   - The `SemanticAnalyzer` class checks the semantic validity of the code, such as the use of undeclared variables and duplicate variable declarations.

4. **Graphical User Interface**:
   - In `main.py`, the GUI allows users to input code and run the analysis by clicking "Run".
   - Any errors (lexical, syntactic, or semantic) are displayed in the output console.

     
## Running the Project

1. Start the project by running `main.py`:
   ```bash
   python main.py


2. Enter some code in the text area, for example:
   ```plaintext
   int x = 10;
   x = x + 5;
   y = 7;  // undeclared variable
   ```

3. Click on “Run” to execute the analysis:
   - Errors will be displayed in the output console.
   - If there are no errors, the message “No errors found!” will appear.

   
